<div class="container">
<h1 class="primary">{{ 'PERMISSIONS' | translate }}</h1>
<style>
.ngdialog.ngdialog-theme-default .ngdialog-content {
    width: 531px !important;
}
</style>
<ul class="perm-menu">
  <li><a ng-init="elementShow=true;" ng-click="elementShow=true;processShow=false;">Elements</a></li>
  <li><a ng-init="processShow=false;" ng-click="processShow=true;elementShow=false;">Process</a></li>
</ul>

<div class="elements-perm" ng-show="elementShow">
 <div class="params">
  <!--
          <div class="param">
              <div ng-repeat="perm in newperms" class="controls inputRequests">
                   <div class="request">
                     <select ng-model="perm.uid" class="forUID" ng-options="employee.uid as employee.uid for employee in employees" required></select>
                     <select ng-model="perm.front_elem_id" class="forFrontElem" ng-options="elem.id as elem.title for elem in bpelems" required>
                      <option value="" selected></option>
                     </select>
                     <select ng-model="perm.space_elem_id" class="forSpaceElem"ng-options="elem.id as elem.title for elem in spaceelems" required>
                      <option value="" selected></option>
                     </select>
                     <a ng-click="createPerm(perm)" class="btn btn-big btn-success">Add</a>
                </div></div>
          </div></div>
        
          <button ng-click="addPerm()">Add another one permission</button>
          -->
          <div class="param">
              <div ng-repeat="bpelem in bpelems | filter:filterPerms" class="controls inputRequests">
                   <div class="request">
                    <p>{{bpelem.title}}</p>
                     <select ng-model="bpelem.perm.employeegroup" class="forUID" ng-options="employeegroup as credFetch(employeegroup) for employeegroup in employees_groups" required></select>
                     <a ng-click="createPerm(bpelem.perm, bpelem, 'front')" class="btn btn-big btn-success">{{ 'ADD' | translate }}</a>
              <div class="perms" ng-repeat="perm in perms | filter:byObjId(bpelem)">
                <pre>{{ credFetch(perm.employeegroup)  }} {{ bpelem.title }}</pre>
                <a ng-click="delPerm(perm)" class="btn btn-danger btn-big">{{ 'DELETE' | translate }}</a>
              </div>
                </div>
              </div>
              <div ng-repeat="spaceelem in spaceelems | filter:filterPerms" class="controls inputRequests">
                   <div class="request">
                    <p>{{spaceelem.title}}</p>
                     <select ng-model="spaceelem.perm.employeegroup" class="forUID" ng-options="employeegroup as credFetch(employeegroup) for employeegroup in employees_groups" required></select>

                     <a ng-click="createPerm(spaceelem.perm, spaceelem, 'space')" class="btn btn-big btn-success">{{ 'ADD' | translate }}</a>
                </div>
                <div class="perms" ng-repeat="perm in perms | filter:byObjId(spaceelem)">
                <pre>{{ credFetch(perm.employeegroup) }} {{ spaceelem.title }}</pre>
                <a ng-click="delPerm(perm)" class="btn btn-danger btn-big">{{ 'DELETE' | translate }}</a>
                </div>
              </div>

        </div>
        
          
          
          
          

</div>
</div>







<div class="process-perm" ng-show="processShow">

  <div class="item-permissions-container has-edit-permission"><section>
    <table class="permissions-table">
        <tbody><tr>
            
                <td class="permissions-column view-permissions-column ui-droppable" name="view">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <h6>View</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            
                                
                                  <tr class="item ui-draggable" type="view" ng-repeat="perm in perms | filter: filterProcessPermView" style="position: relative;">
                                
                                    <td>
                                        <ul>
                                            <li class="item-icon">
                                                
                                                    
                                                        <i class="author-initials">{{ symbol(perm.title) }}</i>
                                                    
                                                
                                            </li>
                                            <li class="item-name">
                                                
                                                    <div class="name">{{ credFetch(perm) }}</div>
                                                    
                                                
                                            </li>
                                            <li class="item-handle">
                                                <span ng-click="removePerm(perm)" class="icon icon-remove"></span>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            
                            <tr class="new-item">
                                <td>
                                    <span class="add-item-form">
                                        <div class="select2-container field-search" id="s2id_autogen331" type="edit">
                                        <select ng-model="viewemployeegroup" class="forUID" ng-options="employeegroup as credFetch(employeegroup) for employeegroup in employees_groups" required></select>
                                        <!-- <button class="button button-small button-green create-item">Done</button> -->
                                        </div>
                                    </span>
                                    <a class="add-item">
                                        <i class="icon-plus"></i>
                                        <span class="text" ng-click="addProcessPerm(viewemployeegroup, 'view')">Add</span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            
                <td class="permissions-column edit-permissions-column ui-droppable" name="edit">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <h6>Edit</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            
                                
                                  <tr class="item ui-draggable" type="edit" ng-repeat="perm in perms | filter: filterProcessPermEdit" style="position: relative; left: 0px; top: 0px;">
                                    <td>
                                        <ul>
                                            <li class="item-icon">
                                                
                                                    
                                                        <i class="icon-users"></i>
                                                    
                                                
                                            </li>
                                            <li class="item-name">
                                                
                                                    <div class="name">{{ credFetch(perm) }}</div>
                                                    <div class="type"><!-- team --></div>
                                                
                                            </li>
                                            <li class="item-handle">
                                                <span ng-click="removePerm(perm)" class="icon icon-remove"></span>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            
                            <tr class="new-item">
                                <td>
                                    <span class="add-item-form">
                                        <div class="select2-container field-search" id="s2id_autogen331" type="edit">
                                        <select ng-model="editEmployeeGroup" class="forUID" ng-options="employeegroup as credFetch(employeegroup) for employeegroup in employees_groups" required></select>
                                        <!-- <button class="button button-small button-green create-item">Done</button>-->
                                        </div>
                                    </span>
                                    <a class="add-item">
                                        <i class="icon-plus"></i>
                                        <span class="text" ng-click="addProcessPerm(editEmployeeGroup, 'edit')">Add</span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            
                <td class="permissions-column admin-permissions-column ui-droppable" name="all">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <h6>All</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            
                                
                                  <tr class="item-owner" type="all" data-toggle="tooltip" ng-repeat="perm in perms | filter: filterProcessPermAll" title="Owner permissions cannot be modified">
                                
                                    <td>
                                        <ul>
                                            <li class="item-icon">
                                                
                                                    <i class="icon-locked"></i>
                                                
                                            </li>
                                            <li class="item-name">
                                                
                                                    <div class="name">{{ credFetch(perm) }}</div>
                                                    
                                                    <div class="type"><!-- Owner--></div>
                                                    
                                                
                                            </li>
                                            <li class="item-handle">
                                                <span ng-click="removePerm(perm)" class="icon icon-remove"></span>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            
                            <tr class="new-item">
                                <td>
                                    <span class="add-item-form">
                                        <div class="select2-container field-search" id="s2id_autogen331" type="edit">
                                        <select ng-model="allEmployeeGroup" class="forUID" ng-options="employeegroup as credFetch(employeegroup) for employeegroup in employees_groups" required></select>
                                        <!-- <button class="button button-small button-green create-item">Done</button>-->
                                        </div>
                                    </span>
                                    <a class="add-item">
                                        <i class="icon-plus"></i>
                                        <span class="text" ng-click="addProcessPerm(allEmployeeGroup, 'all')">Add</span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            
        </tr>
    </tbody></table>
</section>




</div>





</div><!--container-->