<div class="teamApisListWrap">
  <a class="createApi ajaxLink cacheable" ng-click="createNewBP()"><span class="plusSign vIco vPlusSquare vShineState"></span> New Process</a>

  <div class="service-helper" ng-show="service_id != null">   
    <a ng-click="allServices()">All Services</a>
  </div>
  <div class="teamApisListFilter search-process-input filterLayer">
    <span class="magnifyGlass vIco vLoupe vLight2State"></span>
    <input type="text" size="41" ng-model="search.$" data-toggle-class="hidden" class="filterInput teamApisListFilterInput" placeholder="Search Process">
  </div>

<div class="panelLike organisationsGridLike">
  <ul ul id="teamapis" class="teamApisList">
  <div class="process" ng-repeat="bprocess in bprocesses | filter:search">
    <li class="teamApisListItem">
      <h2 class="teamApisListName">
        <a class="teamApiName vIcoIn" href="/a#/bprocess/{{ bprocess.id }}/elements">
          {{ bprocess.title }}        </a>
          <span class="teamApiVanity">{{ filterService(bprocess.service) }}</span>
      </h2>
      <div class="teamApisListControls">
        <a class="teamApiControlsLink ajaxLink teamApisLinkPeople" ng-click="perm(bprocess.id)"><i class="vIco vPeople vLight2State"></i> </a>
        <a class="teamApiControlsLink teamSettingsLink teamApisLinkSettings" ng-click="modalShare()"><i class="vIco vSliders vLight2State"></i> Share</a>
        <a class="teamApiControlsLink teamSettingsLink teamApisLinkDelete" ng-click="deleteBP(bprocess.id)"><i class="vIco vSliders vLight2State"></i> </a>
      </div>
        <p class="teamApisListGithub">

          <a class="teamApisGithubIco" ng-click="openInvoke(bprocess.id)" tooltip="Run" tooltip-placement="bottom" ></a>
        </p>

      <div class="stations">
        <a class="allStation" href="/a#/bprocess/{{ bprocess.id }}/stations">Stations</a>
        <div class="station-markers">
              <a class="marker" href="/a#/bprocess/{{ bprocess.id }}/stations" ng-repeat="station in stations | filter: { finished: true, process: bprocess.id } | slice:2:2">

              <span class="number small {{ station.state }}">{{ $index + 1 }}</span>
                    <ul class="station-states">
                      <li class="state started {{ station.started }}"> Started </li>
                      <li class="state paused {{ station.paused }}"> Paused </li>
                      <li class="state finished {{ station.finished }}"> Finished </li>
                    </ul>

                <!-- <span class ="glyphicon glyphicon-stop"></span>{{ station.id }}</a> -->

        </div>

        <div class="station-markers">
              <a class="marker" ng-click="openInvoke(bprocess.id)" ng-repeat="station in stations | filter: { finished: false, paused: true, process: bprocess.id }">
                <span class="number small {{ station.state }}">{{ $index + 1 }}</span>
                    <ul class="station-states">
                      <li class="state started {{ station.started }}"> {{ parsePercent(((station.step+1)/bpElemLength[bprocess.id])*100)}}% </li>
                      <li class="state paused {{ station.paused }}"> Paused </li>
                      <li class="state finished {{ station.finished }}"> Finished </li>
                      <!--<li class="state"> Now: Element </li>
                      <li class="state"> Next: Element </li>-->
                    </ul>

                <!--
                <span class="glyphicon glyphicon-pause" tooltip='{{parsePercent((station.step/bpElemLength[bprocess.id])*100)}}%'></span>{{ station.id }}</a>-->
        </div>
      </div>

      </li>
      

      </div>
      </ul>
</div>

</div>

<!--
<div class="span6">

  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th style="min-width: 80px;">Service name</th>
        <th style="min-width: 80px;">Process title</th>
        <th style="min-width: 80px;">Invokation</th>
        <th style="min-width: 80px;">Edit</th>
        <th style="min-width: 80px;">Elements</th>
        <th style="min-width: 80px;">Permission</th>
        <th style="min-width: 80px;">Delete</th>
        <th style="min-width: 80px;">Station</th>
        <th style="width:20px;">&nbsp;</th>
        <th style="width:20px;">&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="bprocess in bprocesses">
        <td><a href="/services">{{ filterService(bprocess.service) }}</a></td>
        <td>{{ bprocess.title }}</td>
        <td><a href="/a#/bprocess/{{ bprocess.id }}/input" class="btn btn-small btn-success">Invoking</a></td>
        <td><a ng-click="showBP(bprocess.id)" class="btn btn-small btn-primary">Edit</a></td>
        <td><a href="/a#/bprocess/{{ bprocess.id }}/elements" class="btn btn-small btn-primary">Elements</a></td>
        <td><a href="/a#/bprocess/{{ bprocess.id }}/perms" class="btn btn-small btn-primary">Permissions</a></td>
        <td><a ng-click="deleteBP(bprocess.id)" class="btn btn-small btn-danger">Delete</a></td>
        <td><a href="/a#/bprocess/{{ bprocess.id }}/stations">Show All stations</a></td>
        <td ng-repeat="station in stations | filter: { finished: false, paused: true, process: bprocess.id }">
              <div class="progress">
              <div class="progress-bar" role="progressbar" aria-valuenow="{{station.step*10}}" aria-valuemin="0" aria-valuemax="100" style="width: {{station.step*10}}%;">
              <a href="/a#/bprocess/{{ bprocess.id }}/input">{{ stationPercent(station) }} {{station.step*10}}%</a><
              </div>
              </div>
        </td>

      </tr>

    </tbody>
  </table>
  <a ng-click="createNewBP()" class="btn btn-small">Create</a>
</div>-->
